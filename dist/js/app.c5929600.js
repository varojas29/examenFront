(function(t){function a(a){for(var s,i,o=a[0],c=a[1],d=a[2],l=0,u=[];l<o.length;l++)i=o[l],n[i]&&u.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);p&&p(a);while(u.length)u.shift()();return r.push.apply(r,d||[]),e()}function e(){for(var t,a=0;a<r.length;a++){for(var e=r[a],s=!0,i=1;i<e.length;i++){var o=e[i];0!==n[o]&&(s=!1)}s&&(r.splice(a--,1),t=c(c.s=e[0]))}return t}var s={},i={app:0},n={app:0},r=[];function o(t){return c.p+"js/"+({about:"about",login:"login"}[t]||t)+"."+{about:"efc88e99",login:"4e61519a"}[t]+".js"}function c(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.e=function(t){var a=[],e={login:1};i[t]?a.push(i[t]):0!==i[t]&&e[t]&&a.push(i[t]=new Promise((function(a,e){for(var s="css/"+({about:"about",login:"login"}[t]||t)+"."+{about:"31d6cfe0",login:"42e6b0b7"}[t]+".css",n=c.p+s,r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var d=r[o],l=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(l===s||l===n))return a()}var u=document.getElementsByTagName("style");for(o=0;o<u.length;o++){d=u[o],l=d.getAttribute("data-href");if(l===s||l===n)return a()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=a,p.onerror=function(a){var s=a&&a.target&&a.target.src||n,r=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=s,delete i[t],p.parentNode.removeChild(p),e(r)},p.href=n;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){i[t]=0})));var s=n[t];if(0!==s)if(s)a.push(s[2]);else{var r=new Promise((function(a,e){s=n[t]=[a,e]}));a.push(s[2]=r);var d,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(t),d=function(a){l.onerror=l.onload=null,clearTimeout(u);var e=n[t];if(0!==e){if(e){var s=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src,r=new Error("Loading chunk "+t+" failed.\n("+s+": "+i+")");r.type=s,r.request=i,e[1](r)}n[t]=void 0}};var u=setTimeout((function(){d({type:"timeout",target:l})}),12e4);l.onerror=l.onload=d,document.head.appendChild(l)}return Promise.all(a)},c.m=t,c.c=s,c.d=function(t,a,e){c.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,a){if(1&a&&(t=c(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)c.d(e,s,function(a){return t[a]}.bind(null,s));return e},c.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(a,"a",a),a},c.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},c.p="/",c.oe=function(t){throw console.error(t),t};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],l=d.push.bind(d);d.push=a,d=d.slice();for(var u=0;u<d.length;u++)a(d[u]);var p=l;r.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"2e4b":function(t,a,e){},39346:function(t,a,e){"use strict";var s=e("6fa0"),i=e.n(s);i.a},"409e":function(t,a,e){"use strict";var s=e("7aad"),i=e.n(s);i.a},"56d7":function(t,a,e){"use strict";e.r(a);e("cadf"),e("551c"),e("f751"),e("097d");var s=e("2b0e"),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"is-family-sans-serif",attrs:{id:"app"}},[e("navbar",{attrs:{brand:"The Urban Jungle.cl"}}),e("router-view"),e("div",[e("Footer")],1)],1)},n=[],r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"navbar has-background-black is-fixed-top",attrs:{role:"navigation","aria-label":"main navigation"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"navbar-brand"},[e("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[e("strong",{staticClass:"blanco"},[t._v(t._s(t.brand))]),e("i",{staticClass:"hoja mdi mdi-leaf"})]),e("a",{staticClass:"navbar-burger burger",class:{"is-active":t.displayMenu},attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarMenu"},on:{click:function(a){t.displayMenu=!t.displayMenu}}},[e("span",{attrs:{"aria-hidden":"true"}}),e("span",{attrs:{"aria-hidden":"true"}}),e("span",{attrs:{"aria-hidden":"true"}})])],1),e("div",{staticClass:"navbar-menu",class:{"is-active":t.displayMenu},attrs:{id:"navbarMenu"}},[e("div",{staticClass:"navbar-end"},[e("a",{staticClass:"navbar-item",attrs:{"data-testId":"cart"},on:{click:t.showCart}},[e("span",{staticClass:"icon blanco"},[e("i",{staticClass:"mdi mdi-32px mdi-cart"}),t.$store.getters.shoppingCart.list.length>0?e("span",{staticClass:" blanco tag is-link"},[t._v("\n                "+t._s(t.$store.getters.shoppingCart.list.length)+"\n              ")]):t._e()])]),t.isLoggedIn?e("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[e("a",{staticClass:"navbar-link blanco"},[e("span",{staticClass:"icon blanco"},[e("i",{staticClass:"blanco mdi mdi-32px mdi-account"})]),t._v("\n                "+t._s(t.getCurrentUser?t.getCurrentUser.email:"")+"\n            ")]),e("div",{staticClass:"navbar-dropdown"},[e("a",{staticClass:"navbar-item"},[t._v("\n                Preferencias\n              ")]),e("a",{staticClass:"navbar-item",on:{click:t.showCart}},[t._v("\n                Ver Carrito\n              ")]),e("hr",{staticClass:"navbar-divider"}),e("router-link",{staticClass:"navbar-item",attrs:{to:"/create"}},[e("span",{on:{click:function(a){t.displayMenu=!t.displayMenu}}},[t._v("Añadir productos")])]),e("hr",{staticClass:"navbar-divider"}),e("a",{staticClass:"navbar-item",on:{click:t.logout}},[t._v("\n                Cerrar Sesión\n              ")])],1)]):e("router-link",{staticClass:"navbar-item",attrs:{to:"/login"}},[t._v(" Ingresa ")])],1)])])])},o=[],c=e("8aa5"),d=e.n(c),l={name:"Navbar",components:{},props:{brand:{type:String,default:""}},data:function(){return{displayMenu:!1}},methods:{showCart:function(t){t.preventDefault(),this.$store.dispatch("updateShowCart",!0)},logout:function(){var t=this;d.a.auth().signOut().then((function(){t.$router.push("login"),t.$store.dispatch("updateUser",!1),t.displayMenu=!1}))}},computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn},getCurrentUser:function(){return d.a.auth().currentUser?d.a.auth().currentUser:""}},watch:{},created:function(){},mounted:function(){}},u=l,p=(e("409e"),e("2877")),m=Object(p["a"])(u,r,o,!1,null,"77b98f76",null),f=m.exports,h=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},v=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"compofoot"},[e("img",{staticClass:"logofoot",attrs:{src:"/img/logo-negro-01.png",alt:""}}),e("img",{staticClass:"logofoot",attrs:{src:"/img/logo-negro-01.png",alt:""}})]),e("div",{staticClass:"footer"},[e("p",[t._v("Copyright copy 2020,The Urban Jungle.cl "),e("i",{staticClass:"instagram mdi mdi-instagram"})])])])}],g={},C=g,b=(e("fa88"),Object(p["a"])(C,h,v,!1,null,"780c3abe",null)),_=b.exports,y={name:"app",components:{Footer:_,Navbar:f}},x=y,w=Object(p["a"])(x,i,n,!1,null,"971cf9be",null),P=w.exports,k=e("8c4f"),E=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("cart-detail"),e("products-list")],1)},O=[],$=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t._m(0),e("div",{staticClass:"container"},[e("div",{staticClass:"columns is-multiline mt-5",attrs:{id:"products"}},t._l(t.computedProductList,(function(a){return e("div",{key:a.id,staticClass:"column is-4"},[e("div",{staticClass:"card has-equal-height"},[e("div",{staticClass:"image-card"},[e("div",{staticClass:"image has-spacing image"},[e("img",{attrs:{alt:"product logo",src:a.data.img}})])]),e("div",{staticClass:"card-content"},[e("div",{staticClass:"content"},[e("h3",{staticClass:"title"},[t._v(t._s(a.data.name))]),e("p",{staticClass:"subtitle"},[t._v("$ "+t._s(a.data.price*a.qty))]),e("p",[t._v(t._s(a.data.text))]),e("div",{staticClass:"counter"},[e("button",{attrs:{disabled:1===a.qty},on:{click:function(e){return t.decrQty(a.id)}}},[e("i",{staticClass:"mdi mdi-minus"})]),t._v("\n                "+t._s(a.qty)+"\n                "),e("button",{on:{click:function(e){return t.incrQty(a.id)}}},[e("i",{staticClass:"mdi mdi-plus"})])]),e("button",{staticClass:"button is-pulled-right is-black",on:{click:function(e){return t.addToCart(a)}}},[e("i",{staticClass:"mdi mdi-cart"})]),e("div",{staticClass:"is-clearfix"})])])])])})),0)])])},T=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"hero is-large has-bg-img"},[e("div",{staticClass:"hero-body"},[e("div",{staticClass:" has-text-centered"},[e("img",{staticClass:"logoHeader",attrs:{src:"/img/logo-blanco-02.png",alt:"logo the urban jungle"}})])])])}],A=(e("386d"),e("7f7f"),e("6762"),e("2fdb"),e("cebc")),j=e("2f62"),S={name:"Products",components:{},props:{},data:function(){return{search:""}},methods:{incrQty:function(t){var a=this.products.map((function(t){return t.id})).indexOf(t);this.products[a].qty++},decrQty:function(t){var a=this.products.map((function(t){return t.id})).indexOf(t);this.products[a].qty>1&&this.products[a].qty--},addToCart:function(t){var a=JSON.parse(JSON.stringify(t));this.$store.dispatch("addToCart",a),t.qty=1}},computed:Object(A["a"])({},Object(j["c"])(["products"]),{computedProductList:function(){var t=this;return this.products.filter((function(a){return a.data.name.toLowerCase().includes(t.search.toLowerCase())}))}}),watch:{},created:function(){this.$store.dispatch("getProducts")},mounted:function(){}},M=S,U=(e("887b"),Object(p["a"])(M,$,T,!1,null,null,null)),I=U.exports,R=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal",class:{"is-active":t.showModal}},[e("div",{staticClass:"modal-background"}),e("div",{staticClass:"modal-card"},[e("header",{staticClass:"modal-card-head"},[""!=t.$store.getters.shoppingCart.list?e("p",{staticClass:"modal-card-title"},[t._v("Tus plantitas:")]):e("p",{staticClass:"modal-card-title"},[t._v("Tu carrito está vacío :(")]),e("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(a){t.showModal=!1}}})]),""!=t.$store.getters.shoppingCart.list?e("section",{staticClass:"modal-card-body"},[e("div",[e("ul",t._l(t.$store.getters.shoppingCart.list,(function(a){return e("li",{key:a.id},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-content"},[e("div",{staticClass:"media"},[e("div",{staticClass:"media-left"},[e("figure",{staticClass:"image is-48x48"},[e("img",{attrs:{src:a.data.img,alt:"Placeholder image"}})])]),e("div",{staticClass:"media-content"},[e("p",{staticClass:"title is-5"},[t._v(t._s(a.data.name))]),e("p",{staticClass:"subtitle is-6"},[t._v("$ "+t._s(a.data.price*a.qt))])]),e("p",[t._v("\n                    "+t._s(a.qty)+" x $ "+t._s(a.data.price)+"  \n                  ")]),e("button",{staticClass:"button is-black is-small",on:{click:function(e){return t.$store.dispatch("removeFromCart",a.id)}}},[t._m(0,!0)])])])])])})),0)]),e("hr"),e("div",[e("div",[e("div",{staticClass:"is-pulled-right"},[e("p",{staticClass:"title is-4"},[t._v("\n              Total: $ "+t._s(t.$store.getters.shoppingCart.total)+"\n            ")])]),e("div",[e("button",{staticClass:"button is-black",attrs:{"data-testId":"clearcart"},on:{click:function(a){return t.$store.dispatch("clearCart")}}},[t._v("\n              Adios Carrito\n            ")])])])])]):t._e(),e("footer",{staticClass:"modal-card-foot"},[e("button",{staticClass:"button is-black",on:{click:function(a){t.showModal=!1}}},[t._v("Volver")]),""!=t.$store.getters.shoppingCart.list?e("button",{staticClass:"button is-success is-pulled-right"},[t._v("Finalizar Compra")]):t._e()])])])},D=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{staticClass:"icon is-small is-left"},[e("i",{staticClass:"mdi mdi-18px mdi-delete"})])}],q={name:"CartDetail",components:{},props:{},data:function(){return{}},methods:{},computed:{showModal:{get:function(){return this.$store.getters.showCart},set:function(t){this.$store.dispatch("updateShowCart",t)}}},watch:{},created:function(){},mounted:function(){}},L=q,N=(e("730c"),Object(p["a"])(L,R,D,!1,null,"67a55656",null)),z=N.exports,H={name:"home",components:{ProductsList:I,CartDetail:z},props:{},data:function(){return{}},methods:{},computed:{},watch:{},created:function(){},mounted:function(){}},F=H,J=Object(p["a"])(F,E,O,!1,null,"85ad76a0",null),B=J.exports,G=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"container mb-6 formulario"},[t._m(0),e("div",{staticClass:"field is-horizontal"},[t._m(1),e("div",{staticClass:"field-body"},[e("div",{staticClass:"field"},[e("p",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.product.name},on:{input:function(a){a.target.composing||t.$set(t.product,"name",a.target.value)}}})])])])]),e("div",{staticClass:"field is-horizontal"},[t._m(2),e("div",{staticClass:"field-body"},[e("div",{staticClass:"field"},[e("p",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.product.img,expression:"product.img"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.product.img},on:{input:function(a){a.target.composing||t.$set(t.product,"img",a.target.value)}}})])])])]),e("div",{staticClass:"field is-horizontal"},[t._m(3),e("div",{staticClass:"field-body"},[e("div",{staticClass:"field"},[e("p",{staticClass:"control"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.product.price},on:{input:function(a){a.target.composing||t.$set(t.product,"price",a.target.value)}}})])])])]),e("div",{staticClass:"field is-horizontal"},[t._m(4),e("div",{staticClass:"field-body"},[e("div",{staticClass:"field"},[e("p",{staticClass:"control"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.product.text,expression:"product.text"}],staticClass:"textarea",domProps:{value:t.product.text},on:{input:function(a){a.target.composing||t.$set(t.product,"text",a.target.value)}}})])])])]),e("div",{staticClass:"has-text-right mb-6 mt-5"},[e("div",{staticClass:"my-5"},[e("h6",{staticClass:"has-text-danger",domProps:{textContent:t._s(t.errorMsg)}})]),t.edit?e("button",{staticClass:"button is-black is-outlined",on:{click:function(a){return t.updateProduct(t.id)}}},[t._v("Actualizar")]):t._e(),t.edit?t._e():e("button",{staticClass:"button is-black",on:{click:function(a){return t.createProduct(t.product.name)}}},[t._v("Agregar")])]),e("hr"),e("h1",{staticClass:"mt-6 mb-5 is-size-3 has-text-centered"},[t._v("Productos registrados")]),e("table",{staticClass:"table"},[t._m(5),e("tbody",t._l(t.computedProductList,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.data.name))]),e("td",[t._v(t._s(a.data.price))]),e("td",[t._v(t._s(a.data.text))]),e("td",[e("img",{staticStyle:{"max-width":"200px"},attrs:{src:a.data.img}})]),e("td",[e("button",{staticClass:"button is-dark is-outlined",attrs:{disabled:1==t.edit},on:{click:function(e){return t.editProduct(a.id)}}},[e("i",{staticClass:"mdi mdi-pencil"})])]),e("td",[e("button",{staticClass:"button is-dark is-outlined",on:{click:function(e){return t.deleteConfirmation(a.id,a.data.name)}}},[e("i",{staticClass:"mdi mdi-delete"})])])])})),0)])]),e("div",{staticClass:"modal",class:{"is-active":t.showModal}},[e("div",{staticClass:"modal-background"}),e("div",{staticClass:"modal-card"},[e("h1",{staticClass:"is-size-4 modal-card-head",domProps:{textContent:t._s(t.modalHead)}}),e("footer",{staticClass:"modal-card-foot"},[t.confirmation?e("div",[e("button",{staticClass:"button is-black is-outlined",on:{click:t.deleteProduct}},[t._v("Sí")]),e("button",{staticClass:"button is-black is-outlined",on:{click:function(a){t.showModal=!1}}},[t._v("No")])]):t._e(),t.loading?e("progress",{staticClass:"progress is-black",attrs:{max:"100"}},[t._v("60%")]):t._e(),t.productAdded?e("div",[e("button",{staticClass:"button is-success is-outlined",on:{click:function(a){t.showModal=!1}}},[t._v("Seguir aquí")]),e("router-link",{staticClass:"button is-black is-outlined",attrs:{to:"/home"}},[t._v("Ir al inicio")])],1):t._e()])])])])},V=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h1",{staticClass:"is-size-3 my-6 pt-6 has-text-centered"},[t._v("Agrega tus productos"),e("i",{staticClass:"hoja1 mdi mdi-leaf"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[t._v("Nombre")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[t._v("Imagen")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[t._v("Precio")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"field-label is-normal"},[e("label",{staticClass:"label"},[t._v("Descripción")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v("Nombre")]),e("th",[t._v("Precio")]),e("th",[t._v("Descripción")]),e("th",[t._v("Imagen")])])])}],K=e("bc3a"),Q=e.n(K),W={name:"Create",data:function(){return{id:void 0,product:{name:"",img:"",price:"",text:""},selected:{name:"",id:""},showModal:!1,modalHead:"",confirmation:!1,loading:!1,productAdded:!1,errorMsg:""}},methods:Object(A["a"])({},Object(j["b"])(["updateEdit"]),{createProduct:function(t){var a=this;""!=this.product.name&&""!=this.product.img&&""!=this.product.price&&""!=this.product.text?(this.loading=!0,this.showModal=!0,this.confirmation=!1,this.productAdded=!1,this.modalHead="Registrando ".concat(t,"..."),Q.a.post("https://us-central1-project-367345189914459242.cloudfunctions.net/products/product",this.product,{headers:{"Context-type":"application/json"}}).then((function(){a.loading=!1,a.productAdded=!0,a.modalHead="Tu producto ".concat(t," se ha registrado exitosamente."),a.resetInputs(),a.$store.dispatch("getProducts")})).catch((function(){a.errorMsg="¡Ups! Algo salió mal. Intente más tarde."}))):this.errorMsg="* Todos los campos son obligatorios."},resetInputs:function(){this.id="",this.product.name="",this.product.img="",this.product.price="",this.product.text="",this.errorMsg=""},deleteConfirmation:function(t,a){this.productAdded=!1,this.showModal=!0,this.confirmation=!0,this.modalHead="¿Estás seguro que quieres borrar ".concat(a,"?"),this.selected.name=a,this.selected.id=t},deleteProduct:function(){var t=this;this.productAdded=!1,this.confirmation=!1,this.loading=!0,this.modalHead="Borrando ".concat(this.selected.name,"..."),Q.a.delete("https://us-central1-project-367345189914459242.cloudfunctions.net/products/product/".concat(this.selected.id),{headers:{"Context-type":"application/json"}}).then((function(){t.loading=!1,t.productAdded=!0,t.modalHead="Producto borrado exitosamente.",t.$store.dispatch("getProducts")}))},editProduct:function(t){this.updateEdit(),this.findProduct(t)},findProduct:function(t){var a=this;Q.a.get("https://us-central1-project-367345189914459242.cloudfunctions.net/products/product/".concat(t),{headers:{"Context-type":"application/json"}}).then((function(e){a.id=t,a.product.name=e.data.name,a.product.img=e.data.img,a.product.price=e.data.price,a.product.text=e.data.text}))},updateProduct:function(t){var a=this,e=this.product;Q.a.put("https://us-central1-project-367345189914459242.cloudfunctions.net/products/product/".concat(t),e,{headers:{"Context-type":"application/json"}}).then((function(){a.resetInputs(),a.$store.dispatch("getProducts"),a.updateEdit()})).catch((function(){a.errorMsg="¡Ups! Algo salió mal. Intente más tarde."}))}}),computed:Object(A["a"])({},Object(j["c"])(["products","edit"]),{computedProductList:function(){return this.products}}),mounted:function(){this.$store.dispatch("getProducts")}},X=W,Y=(e("39346"),Object(p["a"])(X,G,V,!1,null,null,null)),Z=Y.exports;s["a"].use(k["a"]);var tt=new k["a"]({mode:"history",base:"/",routes:[{path:"/",redirect:"home"},{path:"/about",name:"about",component:function(){return e.e("about").then(e.bind(null,"f820"))}},{path:"/home",name:"home",component:B,meta:{requireLogin:!0}},{path:"/login",name:"login",component:function(){return e.e("login").then(e.bind(null,"a55b"))}},{path:"/create",name:"create",component:Z}]});tt.beforeEach((function(t,a,e){var s=d.a.auth().currentUser,i=t.matched.some((function(t){return t.meta.requireLogin}));!s&&i?e("login"):e()}));var at=tt;e("ac6a");function et(t,a){localStorage.setItem(t,JSON.stringify(a))}function st(t){return JSON.parse(localStorage.getItem(t))}function it(t){var a=0;return t.forEach((function(t){a+=t.data.price*t.qty})),a}function nt(){return{list:[],total:0}}s["a"].use(j["a"]);var rt=new j["a"].Store({state:{currentUser:st("user")||void 0,shoppingCart:st("cart")||nt(),showCart:!1,products:[],loading:!1,edit:!1},mutations:{LOADING_PRODUCTS:function(t){t.loading=!t.loading},GET_PRODUCTS:function(t,a){t.products=[],a.forEach((function(a){a["qty"]=1,t.products.push(a)})),t.loading=!1},UPDATE_CURR_USER:function(t,a){t.currentUser=a,et("user",a)},ADD_TO_CART:function(t,a){void 0===a.qty&&(a["qty"]=1);var e=t.shoppingCart.list.map((function(t){return t.id})).indexOf(a.id);e>=0?t.shoppingCart.list[e].qty++:t.shoppingCart.list.push(a),t.shoppingCart.total=it(t.shoppingCart.list),et("cart",t.shoppingCart)},REMOVE_FROM_CART:function(t,a){var e=t.shoppingCart.list.map((function(t){return t.id})).indexOf(a);if(!(e>=0))throw new Error("Product not found in cart");t.shoppingCart.list.splice(e,1),t.shoppingCart.total=it(t.shoppingCart.list),et("cart",t.shoppingCart)},CLEAR_CART:function(t){t.shoppingCart=nt(),et("cart",t.shoppingCart)},UPDATE_SHOW_CART:function(t,a){t.showCart=a},UPDATE_EDIT:function(t){t.edit=!t.edit}},actions:{updateUser:function(t,a){var e=t.commit;return new Promise((function(t,s){try{e("UPDATE_CURR_USER",a),t(a)}catch(i){s(i)}}))},addToCart:function(t,a){var e=t.commit;return new Promise((function(t,s){try{e("ADD_TO_CART",a),t(!0)}catch(i){s(i)}}))},removeFromCart:function(t,a){var e=t.commit;return new Promise((function(t,s){try{e("REMOVE_FROM_CART",a),t(!0)}catch(i){s(i)}}))},clearCart:function(t){var a=t.commit;return new Promise((function(t,e){try{a("CLEAR_CART"),t(!0)}catch(s){e(s)}}))},updateShowCart:function(t,a){var e=t.commit;return console.log("setting showCart to ",a),new Promise((function(t,s){try{e("UPDATE_SHOW_CART",!!a),t(!0)}catch(i){s(i)}}))},getProducts:function(t){var a=t.commit;a("LOADING_PRODUCTS"),Q.a.get("https://us-central1-project-367345189914459242.cloudfunctions.net/products/products",{headers:{"Content-type":"text/plain"}}).then((function(t){var e=t.data;a("GET_PRODUCTS",e)}))},updateEdit:function(t){var a=t.commit;a("UPDATE_EDIT")}},getters:{isLoggedIn:function(t){return!!t.currentUser},currentUser:function(t){return t.currentUser},shoppingCart:function(t){return t.shoppingCart},showCart:function(t){return t.showCart}}}),ot={apiKey:"AIzaSyBqhKFi7Edw_5qI7jyBs8GRr_nqVKWGTJs",authDomain:"project-367345189914459242.firebaseapp.com",databaseURL:"https://project-367345189914459242.firebaseio.com",projectId:"project-367345189914459242",storageBucket:"project-367345189914459242.appspot.com",messagingSenderId:"974715084775",appId:"1:974715084775:web:5a19e65447b108e3f7a742"};e("c1c3");d.a.initializeApp(ot),s["a"].config.productionTip=!1;var ct="";d.a.auth().onAuthStateChanged((function(){ct||(ct=new s["a"]({Firebase:d.a,router:at,store:rt,render:function(t){return t(P)}}).$mount("#app"))}))},"6fa0":function(t,a,e){},"730c":function(t,a,e){"use strict";var s=e("eeb3"),i=e.n(s);i.a},"7aad":function(t,a,e){},"887b":function(t,a,e){"use strict";var s=e("2e4b"),i=e.n(s);i.a},c1c3:function(t,a,e){},e7a8:function(t,a,e){},eeb3:function(t,a,e){},fa88:function(t,a,e){"use strict";var s=e("e7a8"),i=e.n(s);i.a}});
//# sourceMappingURL=app.c5929600.js.map